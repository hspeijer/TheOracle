<lift:surround with="default" at="content">
    <h1>UI Test page</h1>
    <div>
    <script type="text/javascript">
        var STATE = false;
        function save_state() {
            STATE = $('#jstree').jstree('get_state');
        }

        $(function() {
            $( "#tabs" ).tabs();

        $("#list4").jqGrid({
            datatype: "local",
            height: 250,
            colNames:['Inv No','Date', 'Client', 'Amount','Tax','Total','Notes'],
            colModel:[
                {name:'id',index:'id', width:60, sorttype:"int"},
                {name:'invdate',index:'invdate', width:90, sorttype:"date"},
                {name:'name',index:'name', width:80},
                {name:'amount',index:'amount', width:80, align:"right",sorttype:"float"},
                {name:'tax',index:'tax', width:80, align:"right",sorttype:"float"},
                {name:'total',index:'total', width:80,align:"right",sorttype:"float"},
                {name:'note',index:'note', width:120, sortable:false}
            ],
            multiselect: true,
            caption: "Manipulating Array Data"
        });
        var mydata = [
                {id:"1",invdate:"2007-10-01",name:"test",note:"note",amount:"200.00",tax:"10.00",total:"210.00"},
                {id:"2",invdate:"2007-10-02",name:"test2",note:"note2",amount:"300.00",tax:"20.00",total:"320.00"},
                {id:"3",invdate:"2007-09-01",name:"test3",note:"note3",amount:"400.00",tax:"30.00",total:"430.00"},
                {id:"4",invdate:"2007-10-04",name:"test",note:"note",amount:"200.00",tax:"10.00",total:"210.00"},
                {id:"5",invdate:"2007-10-05",name:"test2",note:"note2",amount:"300.00",tax:"20.00",total:"320.00"},
                {id:"6",invdate:"2007-09-06",name:"test3",note:"note3",amount:"400.00",tax:"30.00",total:"430.00"},
                {id:"7",invdate:"2007-10-04",name:"test",note:"note",amount:"200.00",tax:"10.00",total:"210.00"},
                {id:"8",invdate:"2007-10-03",name:"test2",note:"note2",amount:"300.00",tax:"20.00",total:"320.00"},
                {id:"9",invdate:"2007-09-01",name:"test3",note:"note3",amount:"400.00",tax:"30.00",total:"430.00"}
                ];
        for(var i=0;i<=mydata.length;i++)
            $("#list4").jqGrid('addRowData',i+1,mydata[i]);
        });

        $(document).ready(function() {
             $.jstree.defaults.themes.theme = "../../resources/jstree/themes/apple";

            $("#jstree").jstree({
                'json' : {
                    // data function:
                    // 'data' : function (o, c) { c.call(this, ['node 1', 'node 2']
                    // data static:
                    'data' : [
                        {
                            'title' : 'Stories',
                            'data' : { 'jstree' : { 'closed' : true } }
                        },
                        'Root 2',
                        {
                            'title' : 'Oracles',
                            'data' : { 'jstree' : { 'children' : [ 'Child 1', 'Child 2' ] } }
                        },
                        {
                            'title' : 'Clips',
                            'data' : { },
                            'children' : [ 'Child 1', 'Child 2' ]
                        }
                    ],
                    // mixed with ajax
                    'ajax' : {
                        // static url
                        'url' : 'test.json'
                        // url with function
                        // 'url' : function (o) { return 'test.json'; },
                        // with some data
                        // 'data' : function () { return { 'foo' : 'bar' }; }
                    },
                    progressive_render : true,
                    progressive_unload : true
                },
                "themes" : {
                    "theme" : "apple",
                    "dots" : false,
                    "icons" : false
                },
                'plugins' : [ 'core', 'themes', 'ui', 'json', 'state' ]
            });
            $("#jstree").jstree("set_theme","apple");
        });

        var root = {
          stories: {
            fire: {
              Lava: 3938,
              Vulcano: 3812,
              Hell: 6714,
              Anger: 743
            },
            Water: {
              Peace: 3534,
              Float: 5731,
              Healing: 7840,
              Relaxation: 5914,
            },
            spirit: {
              LSD: 3938,
              MDMA: 3812,
              DMT: 6714,
              Psylocibin: 743
            },
          },
          Oracles: {
            Stupid: 17010,
            Sexy: 5842,
            Scottish: {

            },
          },
          Triggers: {
            Movie: 1
            }
        };

        </script>

    <div class="demo">

    <div id="tabs">
        <ul>
            <li><a href="#tabs-1">Table</a></li>
            <li><a href="#tabs-2">Tree</a></li>
            <li><a href="#tabs-3">Graph</a></li>
        </ul>
        <div id="tabs-1">
            <table id="list4"></table>
        </div>
        <div id="tabs-2">
            <div id="jstree" style="width:45%; margin-right:1%;">
                <ul>
                    <li id="some-node-id">Root node
                        <ul>
                            <li data-jstree='{ "icon" : false }'>child with no icon</li>
                            <li>child</li>
                            <li data-jstree='{ "selected" : true }' id="the-selected-one">selected child</li>
                            <li><em>italic child</em></li>
                            <li data-jstree='{ "icon" : "http://icons.iconarchive.com/icons/fasticon/freestyle/16/tree-icon.png" }'>custom icon</li>
                            <li>mixed <span style="color:red;">content </span><strong>child</strong></li>
                            <li><strong>strong child</strong></li>
                        </ul>
                    </li>
                    <li id="some-node-id2" data-jstree='{ "opened" : true }'>Root node 2
                        <ul>
                            <li>opened child</li>
                        </ul>
                    </li>
                    <li id="some-node-id3" data-jstree='{ "opened" : true }'>Root node 3
                        <ul>
                            <li>opened child</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div id="tabs-3">
            <div id="center">
                <div id="fig" style="height:200px; overflow:scroll">
                    <script type="text/javascript+protovis">
                        var vis = new pv.Panel()
                            .width(200)
                            .height(200)
                            .left(40)
                            .right(160)
                            .top(10)
                            .bottom(10);

                        var layout = vis.add(pv.Layout.Cluster)
                            .nodes(pv.dom(root)
                            .root("root")
                            .sort(function(a, b) pv.naturalOrder(a.nodeName, b.nodeName))
                            .nodes())
                            .group(true)
                            .orient("left");

                        layout.link.add(pv.Line)
                            .strokeStyle("#ccc")
                            .lineWidth(1)
                            .antialias(false);

                        layout.node.add(pv.Dot)
                            .fillStyle(function(n) n.firstChild ? "#aec7e8" : "#ff7f0e");

                        layout.label.add(pv.Label);

                        vis.render();

                    </script>
                </div>
        </div>
    </div>

    </div>
</lift:surround>